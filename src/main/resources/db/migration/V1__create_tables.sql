CREATE TABLE TASK (
    ID BIGINT IDENTITY NOT NULL,
    TITLE VARCHAR(50) NOT NULL,
    STATUS TINYINT NOT NULL,
    DETAIL VARCHAR(1000),
    REGISTERED_DATE TIMESTAMP NOT NULL,
    COMPLETED_DATE TIMESTAMP,
    IMPORTANCE TINYINT NOT NULL,
    PERIOD TIMESTAMP NOT NULL
);

CREATE TABLE WORK_TIME (
    ID BIGINT IDENTITY NOT NULL,
    TASK_ID BIGINT NOT NULL,
    START_TIME TIMESTAMP NOT NULL,
    END_TIME TIMESTAMP,
    CONSTRAINT WORK_TIME_UK_1 UNIQUE (TASK_ID, START_TIME, END_TIME),
    CONSTRAINT WORK_TIME_FK_1 FOREIGN KEY (TASK_ID) REFERENCES TASK (ID)
);

INSERT INTO TASK VALUES(1,'未着手１',0,NULL,'2014-07-10 12:00:00.000000',NULL,1,'2014-07-15 12:10:00.000000');
INSERT INTO TASK VALUES(2,'未着手２',0,NULL,'2014-07-10 12:00:00.000000',NULL,3,'2014-07-15 12:10:00.000000');
INSERT INTO TASK VALUES(3,'中断１',2,NULL,'2014-07-10 12:00:00.000000',NULL,3,'2014-08-15 12:10:00.000000');

INSERT INTO WORK_TIME VALUES(1, 1,'2014-01-01 10:00:00.000000','2014-01-01 11:00:00.000000');
INSERT INTO WORK_TIME VALUES(2, 1,'2014-01-01 11:00:01.000000','2014-01-01 11:30:00.000000');
INSERT INTO WORK_TIME VALUES(3, 1,'2014-01-01 11:30:10.000000','2014-01-01 11:35:00.000000');
INSERT INTO WORK_TIME VALUES(4, 2,'2014-01-01 10:00:00.000000','2014-01-01 10:15:00.000000');
INSERT INTO WORK_TIME VALUES(5, 3,'2014-01-01 10:00:00.000000','2014-01-01 10:20:00.000000');
